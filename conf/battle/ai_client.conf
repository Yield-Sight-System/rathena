//===== rAthena Configuration =================================
//=       _   _                    _                           =
//=      | | | |                  | |                          =
//=  _ __| |_| |__   ___ _ __   __ _                           =
//= | '__| __| '_ \ / _ \ '_ \ / _` |                          =
//= | |  | |_| | | |  __/ | | | (_| |                          =
//= |_|   \__|_| |_|\___|_| |_|\__,_|                          =
//================= AI Client Configuration ===================
// This file controls the AI Sidecar integration for rAthena
// Requires Phase 9 - rAthena C++ gRPC Client Integration
//=============================================================

// Enable AI Client?
// When enabled, the server will connect to the AI Sidecar service
// for dynamic NPC dialogue, quest generation, and other AI features.
// 0: Disabled (legacy NPC system only)
// 1: Enabled (AI-powered features available)
// Default: 1
enable_ai_client: 1

// AI Sidecar Server Endpoint
// The gRPC endpoint of the AI Sidecar server in "host:port" format
// Examples:
//   - localhost:50051 (for local testing)
//   - ai-server.example.com:50051 (for production)
//   - 192.168.1.100:50051 (by IP address)
// Default: localhost:50051
ai_server_endpoint: localhost:50051

// Server ID
// Unique identifier for this rAthena server instance
// This is used by the AI Sidecar to track and manage multiple game servers
// IMPORTANT: Obtain this from your AI Sidecar admin panel after registration
// Default: rathena-server-1
ai_server_id: rathena-server-1

// Connection Timeout (milliseconds)
// How long to wait when establishing initial connection to AI Sidecar
// Recommended range: 3000-10000 (3-10 seconds)
// Default: 5000
ai_connection_timeout: 5000

// RPC Timeout (milliseconds)
// Maximum time to wait for AI responses (dialogue, quests, etc.)
// If AI takes longer than this, the request will fail
// Recommended range: 10000-60000 (10-60 seconds)
// Note: Quest generation may take longer than dialogue
// Default: 30000
ai_rpc_timeout: 30000

// Retry Attempts
// Number of times to retry failed AI requests before giving up
// 0: No retries (fail immediately)
// 1-10: Number of retry attempts
// Default: 3
ai_retry_attempts: 3

// Keepalive Interval (seconds)
// How often to send keepalive pings to maintain the gRPC connection
// Helps detect network issues and prevents connection drops
// Recommended range: 30-120 seconds
// Default: 60
ai_keepalive_interval: 60

// Enable Async Mode?
// Use threading system (Phase 3) for non-blocking AI requests
// When enabled, AI calls won't block the main game thread
// Requires threading to be enabled (conf/battle/threading.conf)
// 0: Synchronous (blocking) calls only
// 1: Asynchronous (non-blocking) calls when available
// Default: 1
ai_use_async: 1

// Enable Fallback to Legacy NPCs?
// If AI Sidecar is unavailable or a request fails, should we fall back
// to legacy NPC scripts?
// 0: No fallback (AI failures result in no response)
// 1: Fallback to legacy scripts (recommended for production)
// Default: 1
ai_fallback_enabled: 1

// AI Request Queue Size
// Maximum number of pending AI requests in the queue (when using async mode)
// If queue is full, new requests will be rejected or handled synchronously
// Recommended range: 100-1000
// Default: 500
ai_request_queue_size: 500

// Enable AI Client Statistics?
// Track and log AI client performance metrics
// Includes: total requests, failures, average latency
// 0: Disabled (no stats tracking)
// 1: Enabled (recommended for monitoring)
// Default: 1
ai_enable_stats: 1

// Statistics Report Interval (seconds)
// How often to log AI client statistics
// 0: Never log (stats still tracked internally)
// >0: Log stats every N seconds
// Default: 300 (5 minutes)
ai_stats_report_interval: 300

// Enable Debug Logging?
// Log detailed information about AI requests and responses
// WARNING: This can generate a LOT of log output
// 0: Disabled (normal logging only)
// 1: Enabled (verbose AI logging)
// Default: 0
ai_debug_logging: 0

// AI-Enabled NPC Mode
// How should NPCs determine if they use AI?
// 0: Manual (NPCs must explicitly enable AI in scripts)
// 1: Opt-in (NPCs can request AI, but default to legacy)
// 2: Opt-out (All NPCs use AI unless explicitly disabled)
// 3: Force AI (All NPCs MUST use AI, no legacy fallback)
// Default: 1
ai_npc_mode: 1

// Minimum NPC Level for AI
// Only NPCs with this level or higher will use AI features
// This can help reduce AI load by limiting to important NPCs
// 0: All NPCs can use AI
// >0: Only NPCs with level >= this value
// Default: 0
ai_npc_min_level: 0

// AI Dialogue Cache Timeout (seconds)
// How long to cache AI dialogue responses for identical requests
// Reduces AI load for frequently repeated interactions
// 0: No caching (always query AI)
// >0: Cache for N seconds
// Default: 300 (5 minutes)
ai_dialogue_cache_timeout: 300

// AI Quest Cache Timeout (seconds)
// How long to cache generated quests for the same player
// Prevents generating duplicate quests too quickly
// 0: No caching (always generate new quests)
// >0: Cache for N seconds
// Default: 600 (10 minutes)
ai_quest_cache_timeout: 600

// Rate Limit: Requests per Second
// Maximum AI requests per second to prevent overload
// 0: No rate limiting
// >0: Max requests per second
// Default: 100
ai_rate_limit_rps: 100

// Rate Limit: Burst Size
// Maximum burst of requests allowed (for rate limiting)
// Should be >= ai_rate_limit_rps
// Default: 150
ai_rate_limit_burst: 150

// Auto-Reconnect on Failure?
// Should the client automatically try to reconnect if connection is lost?
// 0: No auto-reconnect (manual intervention required)
// 1: Auto-reconnect (recommended for production)
// Default: 1
ai_auto_reconnect: 1

// Reconnect Delay (milliseconds)
// How long to wait before attempting to reconnect after connection loss
// Recommended range: 5000-30000 (5-30 seconds)
// Default: 10000
ai_reconnect_delay: 10000

// Health Check Interval (seconds)
// How often to verify AI Sidecar is healthy
// 0: No health checks
// >0: Check every N seconds
// Default: 60
ai_health_check_interval: 60
